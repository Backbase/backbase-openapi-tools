summary: ArrangementState
description: Resource for managing state of arrangement
get:
  tags:
  - arrangement-state
  description: Retrieve list of arrangement states
  operationId: getArrangementState
  parameters:
  - name: externalStateIds
    in: query
    description: The external state ids
    required: false
    schema:
      type: array
      items:
        type: string
    examples:
      example:
        summary: example
        value:
        - "1"
        - "2"
        - "3"
  - name: stateIds
    in: query
    description: The state ids
    required: false
    schema:
      type: array
      items:
        type: integer
        format: int32
    examples:
      example:
        summary: example
        value:
        - 1
        - 2
        - 3
  - name: state
    in: query
    description: The state name
    required: false
    schema:
      minLength: 1
      maxLength: 50
      type: string
    examples:
      example:
        summary: example
        value: Active
  responses:
    200:
      description: Retrieve all arrangement states from database based on filtering
        params
      content:
        application/json:
          schema:
            $ref: '../openapi.yaml#/components/schemas/AccountStateListResponse'
          example:
            $ref: '../examples/arrangement-state/state-wrapper-ex.json'
    400:
      $ref: '../openapi.yaml#/components/responses/400'
    404:
      $ref: '../openapi.yaml#/components/responses/404'
    500:
      $ref: '../openapi.yaml#/components/responses/500'

put:
  tags:
  - arrangement-state
  description: Endpoint for updating state into database.
  operationId: putArrangementState
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../openapi.yaml#/components/schemas/AccountStateItem'
        example:
          $ref: '../examples/arrangement-state/put-post-state-item-ex.json'
  responses:
    204:
      description: Indication that the state was updated successfully.
    400:
      $ref: '../openapi.yaml#/components/responses/400'
    404:
      $ref: '../openapi.yaml#/components/responses/404'
    500:
      $ref: '../openapi.yaml#/components/responses/500'

post:
  tags:
  - arrangement-state
  description: Endpoint for inserting a new state into database.
  operationId: postArrangementState
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../openapi.yaml#/components/schemas/AccountStateItem'
        example:
          $ref: '../examples/arrangement-state/put-post-state-item-ex.json'
  responses:
    201:
      description: Indication that the state was created successfully.
      content:
        application/json:
          schema:
            $ref: '../openapi.yaml#/components/schemas/AccountStateItemId'
          example:
            $ref: '../examples/arrangement-state/state-id.json'
    400:
      $ref: '../openapi.yaml#/components/responses/400'
    404:
      $ref: '../openapi.yaml#/components/responses/404'
    500:
      $ref: '../openapi.yaml#/components/responses/500'
