summary: /aggregations
description: No description available
get:
  tags:
  - balances
  description: Retrieve aggregated balances
  operationId: getAggregations
  parameters:
  - name: productKindIds
    in: query
    description: Filters arrangements by given product kind ids and aggregates their balances
    required: false
    schema:
      maximum: 50
      type: array
      items:
        type: integer
        format: int32
    examples:
      example:
        summary: example
        value:
        - 1
        - 2
        - 3
  - name: groupedBy
    in: query
    description: |
      Groups arrangements by id of given parameter and aggregates their balances
      If it is empty, then it aggregates balances for all arrangements
    required: false
    schema:
      type: string
      enum:
      - PRODUCT_KIND
    examples:
      example:
        summary: example
        value: PRODUCT_KIND
  responses:
    200:
      description: List of aggregated balances
      content:
        application/json:
          schema:
            $ref: '../../openapi.yaml#/components/schemas/AccountAggregatedBalanceGet'
          examples:
            AggregatedBalancesAll:
              value:
                $ref: '../../examples/balances/aggregated-balance-get.json'
            AggregatedBalancesGroupedByProductKind:
              value:
                $ref: '../../examples/balances/aggregated-balance-product-kind-get.json'
    400:
      $ref: '../../openapi.yaml#/components/responses/400'
    404:
      $ref: '../../openapi.yaml#/components/responses/404'
    500:
      $ref: '../../openapi.yaml#/components/responses/500'
