openapi: 3.0.3

info:
  title: Arrangement Support
  version: '1.0'
  
paths:
  /:
    get:
      x-content-language: application/json
      parameters:
        - name: h-param
          in: header
          schema:
            type: string
            minLength: 1
            maxLength: 36
            pattern: '^[A-Z]+$'
        - name: h-params
          in: header
          schema:
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 36
              pattern: '^[A-Z]+$'
        - name: c-param
          in: cookie
          schema:
            type: string
            minLength: 1
            maxLength: 36
            pattern: '^[A-Z]+$'
        - name: c-params
          in: cookie
          schema:
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 36
              pattern: '^[A-Z]+$'
        - name: q-param
          in: query
          required: false
          schema:
            type: string
            minLength: 1
            maxLength: 36
            pattern: '^[A-Z]+$'
        - name: q-param-enum
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Enum1'
        - name: q-param-req
          in: query
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 36
            pattern: '^[A-Z]+$'
        - name: q-param-enum-req
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/Enum1'
        - name: q-params
          in: query
          schema:
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 36
              pattern: '^[A-Z]+$'
        - name: q-params-enum
          in: query
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Enum1'
        - name: q-params-req
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 36
              pattern: '^[A-Z]+$'
        - name: q-params-set
          in: query
          required: true
          schema:
            type: array
            uniqueItems: true
            items:
              type: string
              minLength: 1
              maxLength: 36
              pattern: '^[A-Z]+$'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pojo'
    post:
      x-content-language: application/json
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Pojo'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pojo'
  /{id}/{ids}:
    parameters:
      - name: id
        required: true
        in: path
        schema:
          type: string
          minLength: 1
          maxLength: 36
          pattern: '^[A-Z]+$'
      - name: ids
        in: path
        required: true
        schema:
          type: array
          items:
            type: string
            minLength: 1
            maxLength: 36
            pattern: '^[A-Z]+$'
    delete:
      x-content-language: application/json
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/Pojo'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Pojo'

components:

  schemas:
    Enum1:
      $ref: enum1.yaml
    Enum2:
      type: string
      enum: [a, b, c]
      nullable: false
    Enum3:
      type: string
      enum: [x, y, z]
      nullable: true

    Pojo:
      allOf:
        - $ref: additional-properties.yaml
      x-implements:
        - Cloneable
      x-extra-annotation: |
        @javax.persistence.Entity
        @javax.persistence.Table(name="pojo")
      properties:
        pEnum1:
          $ref: '#/components/schemas/Enum1'
        pEnum2:
          $ref: '#/components/schemas/Enum2'
        pEnum3:
          $ref: '#/components/schemas/Enum3'
        pInteger:
          type: integer
          minimum: 0
        pNumber:
          type: number
          format: double
          minimum: 0
          maximum: 10
          exclusiveMaximum: true
        pDate:
          x-extra-annotation: '@javax.persistence.Column(name="date") @javax.persistence.Access(javax.persistence.AccessType.PROPERTY)'
          type: string
          format: date
        pDateTime:
          x-extra-annotation: |
            @javax.persistence.Column(name="date_time")
            @javax.persistence.Access(javax.persistence.AccessType.PROPERTY)
          type: string
          format: date-time
        pString:
          x-extra-annotation: >
            @javax.persistence.Column(name="value")
            @javax.persistence.Access(javax.persistence.AccessType.PROPERTY)
          type: string
          minLength: 1
          maxLength: 36
          pattern: '^[A-Z]+$'
        pStringRequired:
          type: string
          minLength: 1
          maxLength: 36
          pattern: '^[A-Z]+$'
        pStringNullable:
          type: string
          nullable: true
          minLength: 1
          maxLength: 36
          pattern: '^[A-Z]+$'
        pStringNullableRequired:
          type: string
          nullable: true
          minLength: 1
          maxLength: 36
          pattern: '^[A-Z]+$'
        translations:
          type: array
          uniqueItems: true
          items:
            $ref: translation-item.yaml
      required:
        - pStringRequired
        - pStringNullableRequired
